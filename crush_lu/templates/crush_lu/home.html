{% extends 'crush_lu/base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Crush.lu - Meet New People in Luxembourg | Dating Events & Singles Meetups" %}{% endblock %}

{% block og_title %}{% trans "Crush.lu - Meet New People in Luxembourg" %}{% endblock %}
{% block og_description %}{% trans "Privacy-first dating platform for Luxembourg. Join coach-curated events, meet real singles, and build authentic connections. No endless swiping - just meaningful meetups." %}{% endblock %}

{% block twitter_title %}{% trans "Crush.lu - Meet New People in Luxembourg" %}{% endblock %}
{% block twitter_description %}{% trans "Privacy-first dating platform for Luxembourg. Join coach-curated events, meet real singles, and build authentic connections." %}{% endblock %}

{% block meta_description %}{% trans "Crush.lu is Luxembourg's privacy-first dating platform. Meet singles at curated speed dating events, social mixers, and themed meetups. Coach-reviewed profiles ensure authentic connections." %}{% endblock %}
{% block meta_keywords %}{% trans "crush.lu, dating luxembourg, speed dating luxembourg, singles events luxembourg, meetup luxembourg, dating events, luxembourg singles, coach dating, privacy dating" %}{% endblock %}

{% block structured_data %}
{{ block.super }}

<!-- WebSite Schema for sitelinks search box -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Crush.lu",
    "url": "https://crush.lu",
    "description": "Privacy-first dating platform for Luxembourg with coach-curated events and meaningful connections.",
    "potentialAction": {
        "@type": "SearchAction",
        "target": "https://crush.lu/events/?q={search_term_string}",
        "query-input": "required name=search_term_string"
    }
}
</script>

<!-- FAQPage Schema for How It Works section -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {
            "@type": "Question",
            "name": "How does Crush.lu work?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Create your profile, get coach approval within 24-48 hours, then join speed dating nights and social meetups to meet real people in person."
            }
        },
        {
            "@type": "Question",
            "name": "Is Crush.lu free to join?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes! Creating a profile is free. Some events may have a small registration fee to cover venue costs."
            }
        },
        {
            "@type": "Question",
            "name": "What makes Crush.lu different from other dating apps?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Crush.lu focuses on privacy-first, event-based dating. All profiles are reviewed by Crush Coaches, and you meet people at organized events instead of endless swiping."
            }
        }
    ]
}
</script>
{% endblock %}

{% block extra_css %}
<!-- Styles are in static/crush_lu/css/pages/home.css -->
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section" aria-labelledby="hero-heading">
    <div class="hero-content">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-center">
            <div class="lg:col-span-7 text-center lg:text-left mb-4 lg:mb-0">
                <h1 id="hero-heading" class="hero-title">
                    {% trans "Meet New People." %}<br>
                    {% trans "Make Real Connections." %} <span aria-hidden="true">üíï</span>
                </h1>
                <p class="hero-subtitle">
                    {% trans "Crush.lu brings Luxembourg's singles together through real events and meaningful connections. No endless swiping. Just authentic meetups." %}
                </p>
                <div class="hero-cta">
                    <a href="{% url 'crush_lu:signup' %}" class="btn-hero-primary">
                        {% trans "Get Started Free" %}
                    </a>
                    <a href="{% url 'crush_lu:how_it_works' %}" class="btn-hero-secondary">
                        {% trans "How It Works" %}
                    </a>
                </div>
            </div>
            <div class="lg:col-span-5 text-center" aria-hidden="true">
                <div class="hero-emoji">üíï</div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section animate-on-scroll" aria-labelledby="features-heading">
    <h2 id="features-heading" class="sr-only">{% trans "Why Choose Crush.lu" %}</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">üîí</div>
            <h3 class="feature-title">{% trans "Privacy First" %}</h3>
            <p class="feature-text">
                {% trans "Your profile is reviewed by our Crush Coaches before going live. Small community, big respect for privacy." %}
            </p>
        </div>
        <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">üéâ</div>
            <h3 class="feature-title">{% trans "Real Events" %}</h3>
            <p class="feature-text">
                {% trans "Speed dating nights, social mixers, and themed meetups. Meet people in person, the way it should be." %}
            </p>
        </div>
        <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">üí¨</div>
            <h3 class="feature-title">{% trans "Guided Support" %}</h3>
            <p class="feature-text">
                {% trans "Work with your personal Crush Coach to build confidence and make genuine connections." %}
            </p>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works-section animate-on-scroll" aria-labelledby="how-it-works-heading">
    <h2 id="how-it-works-heading" class="text-center mb-12 text-4xl font-bold">
        {% trans "How It Works" %}
    </h2>
    <div class="flex justify-center">
        <div class="lg:w-2/3">
            <div class="step-item">
                <div class="step-number" aria-hidden="true">1</div>
                <div class="step-content">
                    <h3>{% trans "Create Your Profile" %}</h3>
                    <p>{% trans "Sign up and tell us about yourself. Share your interests and what you're looking for." %}</p>
                </div>
            </div>
            <div class="step-item">
                <div class="step-number" aria-hidden="true">2</div>
                <div class="step-content">
                    <h3>{% trans "Get Coach Approval" %}</h3>
                    <p>{% trans "A Crush Coach reviews your profile and provides feedback within 24-48 hours." %}</p>
                </div>
            </div>
            <div class="step-item">
                <div class="step-number" aria-hidden="true">3</div>
                <div class="step-content">
                    <h3>{% trans "Join Events" %}</h3>
                    <p>{% trans "Browse and register for upcoming speed dating nights and social meetups." %}</p>
                </div>
            </div>
            <div class="step-item">
                <div class="step-number" aria-hidden="true">4</div>
                <div class="step-content">
                    <h3>{% trans "Make Connections" %}</h3>
                    <p>{% trans "Meet people in real life and build authentic relationships." %}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="text-center mt-8">
        <a href="{% url 'crush_lu:how_it_works' %}" class="btn-crush-primary inline-flex items-center justify-center gap-2 px-6 py-3">
            {% trans "Learn More About Our Process" %}
        </a>
    </div>
</section>

<!-- Upcoming Events Section -->
{% if upcoming_events %}
<section class="events-section animate-on-scroll" aria-labelledby="events-heading">
    <h2 id="events-heading" class="text-center mb-12 text-4xl font-bold">
        {% trans "Upcoming Events" %}
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        {% for event in upcoming_events %}
        <article class="event-card">
            <div class="event-header">
                <span class="badge bg-gradient-to-r from-crush-purple to-crush-pink text-white">
                    {{ event.get_event_type_display }}
                </span>
                <h3 class="mt-2 mb-0 text-lg">{{ event.title }}</h3>
            </div>
            <div class="event-body">
                <p class="event-meta">
                    üìÖ {{ event.date_time|date:"D, M j, Y" }}<br>
                    ‚è∞ {{ event.date_time|date:"g:i A" }}<br>
                    üìç {{ event.location }}
                </p>
                <p class="mb-3">{{ event.description|truncatewords:15 }}</p>
                <div class="flex justify-between items-center">
                    <small class="text-gray-500">
                        {% blocktrans with spots=event.spots_remaining %}{{ spots }} spots left{% endblocktrans %}
                    </small>
                    <a href="{% url 'crush_lu:event_detail' event.id %}" class="btn-crush-primary text-sm px-3 py-1.5">
                        {% trans "View Details" %}
                    </a>
                </div>
            </div>
        </article>
        {% endfor %}
    </div>
    <div class="text-center mt-8">
        <a href="{% url 'crush_lu:event_list' %}" class="btn-crush-outline">
            {% trans "View All Events" %}
        </a>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="cta-section animate-on-scroll" aria-labelledby="cta-heading">
    <div class="cta-content">
        <h2 id="cta-heading" class="cta-title">{% trans "Ready to Meet Your Crush?" %}</h2>
        <p class="cta-text">
            {% trans "Join Luxembourg's most authentic way to meet new people and build real relationships." %}
        </p>
        <a href="{% url 'crush_lu:signup' %}" class="btn-hero-primary" style="background: white; color: #9B59B6;">
            {% trans "Create Your Profile Now" %}
        </a>
        <p class="mt-4 mb-0" style="opacity: 0.9;">
            <small>{% trans "No credit card required ‚Ä¢ Free to join ‚Ä¢ Cancel anytime" %}</small>
        </p>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script nonce="{{ request.csp_nonce }}">
    // Intersection Observer for scroll animations
    const observerOptions = {
        threshold: 0.15,
        rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, observerOptions);

    // Observe all animated elements
    document.querySelectorAll('.animate-on-scroll').forEach(el => {
        observer.observe(el);
    });
</script>
{% endblock %}
