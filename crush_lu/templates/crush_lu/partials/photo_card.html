<div class="photo-upload-card {% if is_main %}photo-upload-card--main{% endif %}" role="group" aria-labelledby="photo-label-{{ slot }}">
    <div class="photo-label" id="photo-label-{{ slot }}">
        {% if is_main %}<span aria-hidden="true">{% include "shared/icons/star.html" with class="w-5 h-5" %}</span> Main Photo{% else %}Add Photo {{ slot }}{% endif %}
    </div>
    <div class="photo-preview-container{% if photo %} has-photo{% endif %}">
        {% if photo %}
            <img src="{{ photo.url }}" alt="{% if is_main %}Main profile photo{% else %}Profile photo {{ slot }}{% endif %}" class="photo-preview" id="preview-photo-{{ slot }}" loading="lazy">
            <button type="button"
                    class="photo-delete-btn"
                    hx-delete="{% url 'api_delete_profile_photo' slot %}"
                    hx-target="#photo-card-{{ slot }}"
                    hx-swap="innerHTML"
                    hx-confirm="Remove this photo?"
                    aria-label="Remove photo {{ slot }}">
                {% include "shared/icons/trash.html" with class="w-4 h-4" %}
            </button>
        {% else %}
            <div class="photo-placeholder" id="preview-photo-{{ slot }}" aria-hidden="true">
                {% include "shared/icons/camera.html" with class="w-10 h-10" %}
            </div>
        {% endif %}
    </div>
    <div class="photo-upload-wrapper">
        <input type="file"
               name="photo_{{ slot }}"
               id="id_photo_{{ slot }}"
               accept="image/jpeg,image/png,image/webp"
               hx-post="{% url 'api_upload_profile_photo' slot %}"
               hx-target="#photo-card-{{ slot }}"
               hx-swap="innerHTML"
               hx-encoding="multipart/form-data"
               hx-indicator="#photo-indicator-{{ slot }}"
               aria-label="{% if is_main %}Upload main profile photo{% else %}Upload profile photo {{ slot }}{% endif %}"
               aria-describedby="photo-help-{{ slot }}">
        <div class="photo-upload-btn" aria-hidden="true">
            {% include "shared/icons/camera.html" with class="w-4 h-4" %}
            <span>{% if photo %}Change Photo{% else %}Upload Photo{% endif %}</span>
        </div>
    </div>
    <div id="photo-indicator-{{ slot }}" class="htmx-indicator tw-mt-2 tw-text-center">
        <span class="tw-text-crush-purple tw-text-sm">
            {% include "shared/icons/arrow-path.html" with class="w-5 h-5 tw-animate-spin" %} Uploading...
        </span>
    </div>
    <div class="photo-help" id="photo-help-{{ slot }}">
        {% if is_main %}
            {% if photo %}Upload to replace{% else %}Your primary photo{% endif %}
        {% elif slot == 2 %}
            Show more of you
        {% else %}
            Add variety
        {% endif %}
    </div>
</div>
