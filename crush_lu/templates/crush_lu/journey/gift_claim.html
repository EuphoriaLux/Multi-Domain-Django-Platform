{% extends "crush_lu/journey/gift_base.html" %}
{% load static i18n %}

{% block title %}{% trans "Claim Your Journey" %} - Crush.lu{% endblock %}

{% block extra_gift_css %}
<style>
    /* Page-specific: Claim hero */
    .claim-hero {
        @apply text-center my-8;
    }

    .claim-from {
        @apply text-lg;
    }

    .claim-recipient {
        @apply text-xl md:text-2xl font-bold mt-2.5;
        background: linear-gradient(135deg, var(--color-crush-purple), var(--color-crush-pink));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Page-specific: Claim message */
    .claim-message {
        @apply p-5 my-5 text-center italic rounded-xl;
        background: rgba(255, 255, 255, 0.1);
    }

    .claim-message-label {
        @apply mb-2.5 opacity-70 text-sm;
    }

    /* Page-specific: Claim info */
    .claim-info {
        @apply my-8 text-center;
    }

    .claim-info p {
        @apply text-base opacity-90 leading-relaxed;
    }

    /* Page-specific: Claim form */
    .claim-form {
        @apply text-center mt-8;
    }

    .claim-form .btn-gift {
        @apply text-lg py-4 px-8;
    }

    .claim-hint {
        @apply text-center mt-5 text-sm opacity-60;
    }

    /* Mobile responsive */
    @media (max-width: 600px) {
        .claim-hero {
            @apply my-5;
        }

        .claim-from {
            @apply text-base;
        }

        .claim-recipient {
            @apply text-lg;
        }

        .claim-message {
            @apply p-4;
        }

        .claim-info p {
            @apply text-sm;
        }

        .claim-form .btn-gift {
            @apply w-full text-base py-3.5 px-6;
        }

        .claim-hint {
            @apply text-xs;
        }
    }
</style>
{% endblock %}

{% block gift_content %}
<article class="gift-card">
    <h1 class="gift-title">{% trans "Claim Your Wonderland Journey" %}</h1>

    <div class="claim-hero">
        <p class="claim-from">
            <strong>{{ gift.sender.first_name }}</strong> {% trans "created this journey for" %}
        </p>
        <p class="claim-recipient">{{ gift.recipient_name }}</p>
    </div>

    {% if gift.sender_message %}
    <div class="claim-message">
        <p class="claim-message-label">{% trans "A message for you:" %}</p>
        <p>"{{ gift.sender_message }}"</p>
    </div>
    {% endif %}

    <div class="claim-info">
        <p>{% trans "Ready to begin your adventure? Once you claim this gift, your personalized 6-chapter Wonderland journey will be created." %}</p>
    </div>

    <form method="post" class="claim-form">
        {% csrf_token %}
        <button type="submit" class="btn-gift btn-gift-primary">
            {% trans "Claim Your Journey" %}
        </button>
    </form>

    <p class="claim-hint">
        {% trans "By claiming this gift, you'll unlock 6 chapters of puzzles, secrets, and messages." %}
    </p>
</article>
{% endblock %}
