{% extends "crush_lu/base.html" %}
{% load static i18n %}

{% block extra_css %}
<style>
    /* Gift Page Foundation - Uses Journey design tokens */
    body {
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
        min-height: 100vh;
        color: var(--color-crush-light);
    }

    /* Page-specific: Gift container */
    .gift-container {
        @apply max-w-[600px] mx-auto px-4 md:px-5;
    }

    /* Page-specific: Gift card (glassmorphic) */
    .gift-card {
        @apply rounded-2xl p-6 md:p-8 border border-white/20;
        background: rgba(30, 30, 50, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    @supports (backdrop-filter: blur(10px)) {
        .gift-card {
            background: rgba(255, 255, 255, 0.1);
        }
    }

    /* Page-specific: Gift title with gradient */
    .gift-title {
        @apply text-2xl md:text-3xl font-bold text-center mb-2.5;
        background: linear-gradient(135deg, var(--color-crush-purple), var(--color-crush-pink));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .gift-subtitle {
        @apply text-center opacity-80 mb-8;
    }

    /* Page-specific: Form group */
    .gift-form-group {
        @apply mb-5;
    }

    .gift-form-group label {
        @apply block font-semibold mb-2 text-crush-light;
    }

    .gift-form-group .help-text {
        @apply text-sm opacity-70 mt-1;
    }

    /* Page-specific: Gift input */
    .gift-input {
        @apply w-full py-3 px-4 text-base text-white rounded-xl border border-white/30 transition-all duration-300;
        background: rgba(255, 255, 255, 0.1);
    }

    .gift-input:focus {
        @apply outline-none border-crush-purple;
        box-shadow: 0 0 0 3px rgba(155, 89, 182, 0.3);
    }

    .gift-input::placeholder {
        @apply text-white/50;
    }

    .gift-input-lg {
        @apply py-3.5 px-5 text-lg;
    }

    /* iOS zoom prevention */
    @media (max-width: 600px) {
        .gift-input {
            font-size: 16px;
        }
    }

    /* Page-specific: Gift buttons */
    .btn-gift {
        @apply inline-flex items-center justify-center gap-2 py-3.5 px-7 rounded-full font-semibold text-base border-none cursor-pointer transition-all duration-300;
    }

    .btn-gift:focus-visible {
        @apply ring-2 ring-crush-pink ring-offset-2;
        ring-offset-color: #1a1a2e;
    }

    .btn-gift-primary {
        @apply text-white;
        background: linear-gradient(135deg, var(--color-crush-purple), var(--color-crush-pink));
        box-shadow: 0 5px 20px rgba(155, 89, 182, 0.4);
    }

    .btn-gift-primary:hover {
        @apply -translate-y-0.5;
        box-shadow: 0 8px 25px rgba(155, 89, 182, 0.5);
    }

    .btn-gift-primary:active {
        @apply translate-y-0;
        box-shadow: 0 3px 15px rgba(155, 89, 182, 0.4);
    }

    .btn-gift-secondary {
        @apply text-white border border-white/30;
        background: rgba(255, 255, 255, 0.1);
    }

    .btn-gift-secondary:hover {
        @apply -translate-y-px;
        background: rgba(255, 255, 255, 0.2);
    }

    /* Page-specific: QR code container */
    .qr-container {
        @apply text-center p-5 bg-white rounded-2xl my-5;
    }

    .qr-container img {
        @apply max-w-[200px] w-full h-auto;
    }

    /* Page-specific: Messages */
    .gift-message {
        @apply p-3 px-4 rounded-xl mb-5;
    }

    .gift-message-success {
        @apply bg-crush-success/20 border border-crush-success/50;
    }

    .gift-message-error {
        @apply bg-red-500/20 border border-red-500/50;
    }

    /* Animation */
    @keyframes giftFadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .gift-animate-fade-in {
        animation: giftFadeInUp 0.6s ease-out;
    }

    /* Mobile responsive */
    @media (max-width: 600px) {
        .gift-card {
            @apply p-5 rounded-xl;
        }

        .gift-title {
            @apply text-xl;
        }

        .gift-subtitle {
            @apply text-sm mb-5;
        }

        .btn-gift {
            @apply w-full text-center py-3.5 px-5;
        }

        .qr-container img {
            @apply max-w-[160px];
        }
    }

    /* Accessibility - Reduced Motion */
    @media (prefers-reduced-motion: reduce) {
        .gift-animate-fade-in,
        .gift-card,
        .btn-gift {
            animation: none !important;
            transition: none !important;
        }
    }
</style>
{% block extra_gift_css %}{% endblock %}
{% endblock %}

{% block content %}
<div class="gift-container gift-animate-fade-in">
    {% if messages %}
    {% for message in messages %}
    <div class="gift-message gift-message-{{ message.tags }}" role="alert">
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}

    {% block gift_content %}
    <!-- Gift-specific content goes here -->
    {% endblock %}
</div>
{% endblock %}
