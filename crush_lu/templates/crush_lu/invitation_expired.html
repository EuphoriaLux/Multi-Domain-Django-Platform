{% extends 'crush_lu/base.html' %}
{% load static %}

{% block title %}Invitation Expired - Crush.lu{% endblock %}

{% block extra_css %}
<style>
    .expired-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        padding: 3rem;
        max-width: 600px;
        margin: 2rem auto;
        text-align: center;
    }

    .expired-icon {
        font-size: 5rem;
        margin-bottom: 1rem;
        opacity: 0.7;
    }
</style>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="expired-card">
            <!-- Expired Icon -->
            <div class="expired-icon">‚è∞</div>

            <!-- Header -->
            <h2 style="color: #6c757d;">Invitation Expired</h2>
            <p class="lead text-muted mb-4">
                Sorry, {{ invitation.guest_first_name }}, this invitation link has expired.
            </p>

            <!-- Alert -->
            <div class="alert alert-warning" style="border-left: 4px solid #ffc107;">
                <h5 class="alert-heading">
                    <i class="bi bi-exclamation-triangle"></i> Invitation No Longer Valid
                </h5>
                <p class="mb-0">
                    This invitation for <strong>{{ invitation.event.title }}</strong> has passed its expiration date
                    and can no longer be accepted.
                </p>
            </div>

            <!-- Event Info -->
            <div class="mt-4 p-4" style="background: #f8f9fa; border-radius: 15px;">
                <h6 class="text-muted">Event Details</h6>
                <h5 class="mt-2">{{ invitation.event.title }}</h5>
                <p class="mb-1">
                    <small class="text-muted">
                        <i class="bi bi-calendar3"></i>
                        {{ invitation.event.date_time|date:"F j, Y \a\t g:i A" }}
                    </small>
                </p>
                <p class="mb-0">
                    <small class="text-muted">
                        <i class="bi bi-geo-alt"></i>
                        {{ invitation.event.location }}
                    </small>
                </p>
            </div>

            <!-- What to Do -->
            <div class="alert alert-info mt-4" style="background: rgba(13, 202, 240, 0.1); border: 1px solid rgba(13, 202, 240, 0.3);">
                <h6 class="alert-heading"><i class="bi bi-lightbulb"></i> What You Can Do</h6>
                <ul class="text-start mb-0">
                    <li>Contact {{ invitation.invited_by.get_full_name|default:"your Crush Coach" }} to request a new invitation</li>
                    <li>Reach out to our team at <a href="mailto:hello@crush.lu">hello@crush.lu</a></li>
                    <li>Check out our upcoming public events on Crush.lu</li>
                </ul>
            </div>

            <!-- Action Buttons -->
            <div class="mt-5">
                <a href="{% url 'crush_lu:event_list' %}" class="btn btn-crush-primary btn-lg px-5">
                    <i class="bi bi-calendar-event me-2"></i> Browse Public Events
                </a>
                <p class="mt-3">
                    <a href="{% url 'crush_lu:home' %}" class="text-muted">
                        <i class="bi bi-house"></i> Return to Home
                    </a>
                </p>
            </div>
        </div>

        <!-- Contact Section -->
        <div class="text-center mt-4">
            <p class="text-muted">
                <small>
                    <i class="bi bi-envelope"></i>
                    For assistance, contact us at
                    <a href="mailto:hello@crush.lu">hello@crush.lu</a>
                </small>
            </p>
        </div>
    </div>
</div>
{% endblock %}
