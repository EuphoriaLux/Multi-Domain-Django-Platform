{% extends 'crush_lu/base.html' %}
{% load i18n %}

{% block title %}{% trans "Coach Sessions" %} - Crush.lu{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <a href="{% url 'crush_lu:coach_dashboard' %}" class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors mb-4">
        {% include "shared/icons/arrow-left.html" with class="w-4 h-4" %}
        {% trans "Back to Dashboard" %}
    </a>

    <h2 class="text-2xl font-bold mb-6 dark:text-white">{% trans "Coach Sessions" %}</h2>

    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm dark:shadow-gray-900/20">
        <div class="p-6">
            {% if sessions %}
                <div class="divide-y divide-gray-100 dark:divide-gray-700">
                    {% for session in sessions %}
                        <div class="py-4 first:pt-0 last:pb-0">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h6 class="font-semibold mb-1 dark:text-white">{{ session.user.get_full_name }}</h6>
                                    <p class="mb-2">
                                        <span class="inline-flex items-center px-2 py-0.5 text-xs font-semibold bg-blue-500 text-white rounded-full">{{ session.get_session_type_display }}</span>
                                    </p>
                                    {% if session.scheduled_at %}
                                        <p class="text-gray-500 dark:text-gray-400 text-sm mb-1">
                                            {% blocktrans with scheduled_at=session.scheduled_at|date:"M j, Y g:i A" %}Scheduled: {{ scheduled_at }}{% endblocktrans %}
                                        </p>
                                    {% endif %}
                                    {% if session.completed_at %}
                                        <p class="text-green-600 dark:text-green-400 text-sm flex items-center gap-1">
                                            {% include "shared/icons/check-circle.html" with class="w-4 h-4" %}
                                            {% blocktrans with completed_at=session.completed_at|date:"M j, Y g:i A" %}Completed: {{ completed_at }}{% endblocktrans %}
                                        </p>
                                    {% endif %}
                                </div>
                            </div>
                            {% if session.notes %}
                                <div class="mt-3 text-sm text-gray-600 dark:text-gray-300">
                                    <strong class="dark:text-white">{% trans "Notes:" %}</strong> {{ session.notes|truncatewords:30 }}
                                </div>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p class="text-gray-500 dark:text-gray-400 text-center py-12">
                    {% trans "No coaching sessions recorded yet." %}
                </p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
