<!DOCTYPE html>
<html>
<head>
    <title>Test Map Debug</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        #test-map { height: 400px; width: 100%; border: 2px solid red; }
        .debug-info { padding: 20px; background: #f0f0f0; margin: 20px; }
    </style>
</head>
<body>
    <div class="debug-info">
        <h2>Map Debug Test</h2>
        <p>This page tests if Leaflet map can render properly.</p>
        <div id="map-status">Initializing...</div>
    </div>
    
    <div id="test-map"></div>
    
    <div class="debug-info">
        <h3>Console Output:</h3>
        <div id="console-output"></div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        function log(message) {
            console.log(message);
            document.getElementById('console-output').innerHTML += message + '<br>';
        }
        
        try {
            log('Starting map initialization...');
            
            // Check if Leaflet is loaded
            if (typeof L === 'undefined') {
                log('ERROR: Leaflet not loaded!');
            } else {
                log('✓ Leaflet loaded successfully');
            }
            
            // Initialize map
            var map = L.map('test-map').setView([49.8153, 6.1296], 10);
            log('✓ Map object created');
            
            // Add tile layer
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);
            log('✓ Tile layer added');
            
            // Add a test marker
            L.marker([49.8153, 6.1296]).addTo(map)
                .bindPopup('Luxembourg Test Marker')
                .openPopup();
            log('✓ Marker added');
            
            document.getElementById('map-status').innerHTML = '<span style="color: green;">✓ Map loaded successfully!</span>';
            
        } catch(error) {
            log('ERROR: ' + error.message);
            document.getElementById('map-status').innerHTML = '<span style="color: red;">✗ Map failed to load: ' + error.message + '</span>';
        }
    </script>
</body>
</html>