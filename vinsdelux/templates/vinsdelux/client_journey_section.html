{% load static %}
{% load i18n %}

<section id="{{ id }}" class="client-journey-section">
    <div class="container">
        <h2 class="section-title">{% trans "Votre Parcours VinsDeLux" %}</h2>
        <p class="section-subtitle">
            {% trans "Découvrez les étapes clés de votre aventure œnologique personnalisée avec VinsDeLux, de la sélection de votre parcelle à la création de votre héritage vinicole." %}
        </p>

        <div class="timeline-container">
            {# The vertical line that connects the steps #}
            <div class="timeline-line" aria-hidden="true"></div>

            {% for step in client_journey_steps %}
            <div class="timeline-item">
                
                {# This determines the order and applies reverse class to EVEN items (2nd, 4th, etc.) #}
                <div class="timeline-content {% if forloop.counter|divisibleby:2 %}timeline-content-reverse{% endif %}">

                    <!-- Image Column -->
                    <div class="timeline-image-wrapper">
                        <img src="{% static step.image_url %}" alt="{{ step.title }}" class="timeline-image">
                    </div>

                    <!-- Center Timeline Point -->
                    <div class="timeline-point-wrapper">
                        <div class="timeline-point">{{ step.step }}</div>
                    </div>

                    <!-- Text Column -->
                    <div class="timeline-text-wrapper">
                        <div class="timeline-text">
                            <h3 class="timeline-title">{{ step.title }}</h3>
                            <p class="timeline-description">{{ step.description }}</p>
                        </div>
                    </div>

                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
