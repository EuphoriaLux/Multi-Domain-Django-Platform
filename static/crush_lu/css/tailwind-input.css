@tailwind base;
@tailwind components;
@tailwind utilities;

/* Preserve Bootstrap compatibility after Tailwind base reset */
@layer base {
  /* Ensure Bootstrap buttons work correctly after Tailwind reset */
  button, [type="button"], [type="reset"], [type="submit"] {
    background-color: transparent;
  }

  /* Restore heading styles that Tailwind base removes */
  h1, h2, h3, h4, h5, h6 {
    font-size: inherit;
    font-weight: inherit;
  }
}

/* Custom Tailwind components using Crush.lu design tokens */
@layer components {
  /* Crush button using Tailwind utilities */
  .tw-btn-crush {
    @apply tw-bg-gradient-to-r tw-from-crush-purple tw-to-crush-pink
           tw-text-white tw-font-medium tw-py-3 tw-px-8
           tw-rounded-crush-pill tw-transition-all tw-duration-300
           hover:tw-translate-y-[-2px] hover:tw-shadow-crush-purple;
  }

  /* Crush card using Tailwind utilities */
  .tw-card-crush {
    @apply tw-bg-white tw-rounded-crush-lg tw-shadow-crush-sm
           tw-transition-all tw-duration-300
           hover:tw-translate-y-[-5px] hover:tw-shadow-crush-lg;
  }

  /* Text gradient utility */
  .tw-text-gradient {
    @apply tw-bg-gradient-to-r tw-from-crush-purple tw-to-crush-pink
           tw-bg-clip-text tw-text-transparent;
  }

  /* HTMX loading indicator styles */
  .htmx-indicator {
    @apply tw-opacity-0 tw-transition-opacity tw-duration-200;
  }

  .htmx-request .htmx-indicator {
    @apply tw-opacity-100;
  }

  .htmx-request.htmx-indicator {
    @apply tw-opacity-100;
  }

  /* Hide button text during HTMX request */
  .htmx-request .button-text {
    @apply tw-opacity-30;
  }

  /* Disable form during submission */
  form.htmx-request {
    @apply tw-pointer-events-none tw-opacity-80;
  }

  /* Smooth swap transitions */
  .htmx-swapping {
    @apply tw-opacity-50;
    transition: opacity 200ms ease-out;
  }

  .htmx-settling {
    @apply tw-opacity-100;
    transition: opacity 200ms ease-in;
  }

  /* Fade in animation */
  .tw-animate-fadeIn {
    animation: tw-fadeIn 0.3s ease-out;
  }

  @keyframes tw-fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Pulse animation for success states */
  .tw-animate-pulse {
    animation: tw-pulse 1s ease-in-out;
  }

  @keyframes tw-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  /* Spin animation for loading */
  .tw-animate-spin {
    animation: tw-spin 1s linear infinite;
  }

  @keyframes tw-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
}
